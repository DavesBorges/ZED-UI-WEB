<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>ZED LOGIN</title>

	<script>
		var loader = setInterval(function () {
			isSiteOnline("http://" + window.location.hostname + ":3000", function (found) {
				if (found) {
					document.getElementById("starting").hidden = true;
					document.getElementById("welcome").hidden = false;
					clearInterval(loader);
					let startupSoundPlayer = new Audio("startup.mp3");
					startupSoundPlayer.onpause = function() {
						window.location.href = "http://" + window.location.hostname + ":3000";
					}
    				startupSoundPlayer.play();
				}
			})
		}, 500);


		function isSiteOnline(url, callback) {
			// try to load favicon
			var timer = setTimeout(function () {
				// timeout after 5 seconds
				callback(false);
			}, 5000)

			var img = document.createElement("img");
			img.onload = function () {
				clearTimeout(timer);
				callback(true);
			}

			img.onerror = function () {
				clearTimeout(timer);
				callback(false);
			}

			img.src = url + "/favicon.ico";
		}
	</script>

	<link rel="stylesheet" href="css/style.css">


</head>

<body>
	<div id="screen">
		<table id="starting" border="0" style="border-collapse: collapse; width: 100%; height: 100%;" border="1">
			<tbody>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
				<tr style="height: 100%;">
					<td style="width: 100%; text-align: right; height: 100%;">
						<div>
							<center><img draggable="false" height="80" src="loading.gif"></img><h2><font color="white">Starting ZED OS  . . .</font></h2></center>
						</div>
					</td>
				</tr>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
			</tbody>

		</table>
		<table hidden id="welcome" border="0" style="border-collapse: collapse; width: 100%; height: 100%;" border="1">
			<tbody>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
				<tr style="height: 100%;">
					<td style="width: 100%; text-align: right; height: 100%;">
						<div>
							<center><h1><font color="white"><b><i>WELCOME</i></b></font></h1></center>
						</div>
					</td>
				</tr>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
			</tbody>

		</table>
		<table id="loginFields" hidden border="0" style="border-collapse: collapse; width: 100%; height: 100%;" border="1">
			<tbody>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
				<tr style="height: 100%;">
					<td style="width: 50%; text-align: right; height: 100%;">
						<img draggable="false" src="logo.png" style="position:absolute;width: 200px;height: 120px;top:calc(50% - 65px);left:calc(50% - 210px);"></img>
					</td>
					<td style="width: 50%; height: auto;">
						<div class="usersList">
							<div class="centerUsersList">
								<div onclick="login()" class="user">
									<img draggable="false" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSH78GJB9NMG_yyFQRTlyuSHYVsaYORXYGaT1ImzDwN5mWarGzGCA"
									class="userPicture" />
									<div class="userName">Administrator</div>
								</div>
								<div class="user">
									<img draggable="false" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSH78GJB9NMG_yyFQRTlyuSHYVsaYORXYGaT1ImzDwN5mWarGzGCA"
									class="userPicture" />
									<div class="userName">User A</div>
								</div>
								<div class="user">
									<img draggable="false" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSH78GJB9NMG_yyFQRTlyuSHYVsaYORXYGaT1ImzDwN5mWarGzGCA"
									class="userPicture" />
									<div class="userName">User B</div>
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr class="bar" style="height: 45px;">
					<td style="width: 50%; height: 45px;">&nbsp;</td>
					<td style="width: 50%; height: 45px;">&nbsp;</td>
				</tr>
			</tbody>

		</table>
	</div>


</body>

</html>